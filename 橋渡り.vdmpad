{"expression": "\u6A4B\u6E21\u308A`solve()\n\" \"", "message": "", "source": "module \u6A4B\u6E21\u308A\nexports all\ndefinitions\n\nvalues\n  \u5404\u81EA\u6240\u8981\u6642\u9593 = {1|->1, 2|->2, 3|->5, 4|->10};\n\ntypes\n  \u4EBA\u756A\u53F7 = nat\n   inv p == p in set {1,2,3,4};\n\n   \u6240\u8981\u6642\u9593 = nat;\n\nfunctions\n\n  time2cross : set of \u4EBA\u756A\u53F7 -> \u6240\u8981\u6642\u9593\n  time2cross(ps) ==\n    let \u6700\u3082\u9045\u3044\u4EBA in set ps be st\n            forall p in set ps & \u5404\u81EA\u6240\u8981\u6642\u9593(\u6700\u3082\u9045\u3044\u4EBA) >= \u5404\u81EA\u6240\u8981\u6642\u9593(p)\n        in \u5404\u81EA\u6240\u8981\u6642\u9593(\u6700\u3082\u9045\u3044\u4EBA);\n\n  \u7D2F\u8A08\u6642\u9593 : seq of set of \u4EBA\u756A\u53F7 -> \u6240\u8981\u6642\u9593\n  \u7D2F\u8A08\u6642\u9593(\u5C65\u6B74) == if len \u5C65\u6B74 = 0 then\n                       0\n                    else\n                       time2cross(hd \u5C65\u6B74) + \u7D2F\u8A08\u6642\u9593(tl \u5C65\u6B74);\n\n  \u884C\u304D : set of \u4EBA\u756A\u53F7 * set of \u4EBA\u756A\u53F7 * seq of set of \u4EBA\u756A\u53F7\n                                                      -> set of seq of set of \u4EBA\u756A\u53F7\n  \u884C\u304D(\u5CB81, \u5CB82, \u5C65\u6B74) ==\n       let \u5019\u88DC\u96C6\u5408 = {p|p in set power \u5CB81 & (card p = 1)or(card p = 2)} in\n           dunion { if p1 = \u5CB81 then\n                       {\u5C65\u6B74 ^ [p1]}\n                    else\n                       \u5E30\u308A(\u5CB81\\p1, \u5CB82 union p1, \u5C65\u6B74 ^ [p1])\n                    | p1 in set \u5019\u88DC\u96C6\u5408 & \u7D2F\u8A08\u6642\u9593(\u5C65\u6B74 ^ [p1]) <= 17};\n           \n  \u5E30\u308A : set of \u4EBA\u756A\u53F7 * set of \u4EBA\u756A\u53F7 * seq of set of \u4EBA\u756A\u53F7\n                                                      -> set of seq of set of \u4EBA\u756A\u53F7\n  \u5E30\u308A(\u5CB81, \u5CB82, \u5C65\u6B74) ==\n       let \u5019\u88DC\u96C6\u5408 = {p|p in set power \u5CB82 & (card p = 1)or(card p = 2)} in\n           dunion { \u884C\u304D(\u5CB81 union p1, \u5CB82\\p1, \u5C65\u6B74 ^ [p1])\n                    | p1 in set \u5019\u88DC\u96C6\u5408 & \u7D2F\u8A08\u6642\u9593(\u5C65\u6B74 ^ [p1]) < 17};\n\n solve : () -> set of seq of set of \u4EBA\u756A\u53F7\n  solve() == \u884C\u304D({1,2,3,4}, {}, [])\n    post \n      let \u7D50\u679C\u96C6\u5408 = RESULT in\n          forall \u7D50\u679C in set \u7D50\u679C\u96C6\u5408 & \u7D2F\u8A08\u6642\u9593(\u7D50\u679C) <= 17;\n          \nend \u6A4B\u6E21\u308A", "value": "{[{1, 2}, {1}, {3, 4}, {2}, {1, 2}], [{1, 2}, {2}, {3, 4}, {1}, {1, 2}]}"}